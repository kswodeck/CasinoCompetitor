<%- include('partials/header') %>
<div id="mid-container">
    <h1 id="page-heading" class="mb-md-3 mb-2">Competitive Poker</h1>
    <!-- <div id="page-description-div" class="justify-content-center text-center">Master the strategies of poker with this virtual deck of cards!</div> -->
    <div id = "card-prep-row" class="row justify-content-around mt-md-4 mb-md-3 my-sm-2 my-1">
      <div id="current-bet-div" class="text-right col">
        <button id="bet-button" class="btn pb-4" type="button" name="bet-button" onclick="toggleBet()">bet<span id ="current-bet-span">{{ currentBet }}</span></button>
      </div>
      <div id="card-play-div" class="card-play-div text-center col">
        <form action="/cards/?_method=PUT" method="POST">
          <input value="<%= storedCoins %>" name="userCoins" id="coinsInput" class="card-coins-input">
          <input value="0" name="currentWin" id="currentWinInput" class="card-coins-input">
          <button id="card-deal-button" class="btn" type="submit" name="deal-button" onclick="getCards()">{{ dealButtonText }}</button>
        </form>
      </div>
      <div id="current-win-div" class="text-left col">
        <button id="win-button" class="btn pb-4" type="button" name="win-button" disabled>win<span id="current-win-span">{{ currentWin }}</span></button>
      </div>
    </div>
    <div class="container-xl" id="play-container">
      <div id="dealt-cards-div" class="card-play-div row justify-content-center m-lg-2 m-sm-1 my-1 mx-0">
        <div class="card-slot-div col-md-2 col p-lg-2 p-sm-1 p-0" id="card-0-div">
          <figcaption class="hold-card-text text-opacity" id="hold0">HELD</figcaption>
          <img class ="cards img-fluid" src="images/cards/card_standard_blue_back.png" id="card0" onclick="toggleCardHold('hold0')">
        </div>
        <div class="card-slot-div col-md-2 col p-lg-2 p-sm-1 p-0" id="card-1-div">
          <figcaption class="hold-card-text text-opacity" id="hold1">HELD</figcaption>
          <img class ="cards img-fluid" src="images/cards/card_standard_blue_back.png" id="card1" onclick="toggleCardHold('hold1')">
        </div>
        <div class="card-slot-div col-md-2 col p-lg-2 p-sm-1 p-0" id="card-2-div">
          <figcaption class="hold-card-text text-opacity" id="hold2">HELD</figcaption>
          <img class ="cards img-fluid" src="images/cards/card_standard_blue_back.png" id="card2" onclick="toggleCardHold('hold2')">
        </div>
        <div class="card-slot-div col-md-2 col p-lg-2 p-sm-1 p-0" id="card-3-div">
          <figcaption class="hold-card-text text-opacity" id="hold3">HELD</figcaption>
          <img class ="cards img-fluid" src="images/cards/card_standard_blue_back.png" id="card3" onclick="toggleCardHold('hold3')">
        </div>
        <div class="card-slot-div col-md-2 col p-lg-2 p-sm-1 p-0" id="card-4-div">
          <figcaption class="hold-card-text text-opacity" id="hold4">HELD</figcaption>
          <img class ="cards img-fluid" src="images/cards/card_standard_blue_back.png" id="card4" onclick="toggleCardHold('hold4')">
        </div>
      </div>
      <h3 id="hand-ranking-heading">{{ resultText }}</h3>
    </div>
</div>
<dialog id="outOfCoinsDialog">
  <p class="dialog-popup-text">You ran out of coins!<br />
  Play <a id="practice-mode-link" href="practice-cards.html">Practice Mode</a></p>
  <div id="dialogButtonDiv" class = "row justify-content-around">
    <div class = "col">
      <button id="outOfCoinsCancel" class="btn" value="cancel">Cancel</button>
    </div>
    <div class = "col">
     <button id="confirmBtn" class="btn"><a id="go-button-link" role="button" href="practice-cards.html">Go</a></button>
    </div>
  </div>
</dialog>
<dialog id="winCoinsDialog">
<span id="coin-win-popup-span">{{ resultText }}</span><br />
<span id="coin-win-popup-text" class="dialog-popup-text">You win</span><span id="number-coins-won"> {{ currentWin }} </span><img id="coins-popup-img" src="images/coins.png">
  <div id="coinDialogDiv" class="row justify-content-around">
    <div class = "col">
      <button id="winCoinsCancel" class="btn cancelbutton">OK</button>
    </div>
  </div>
</dialog>
<%- include('partials/logindialogs') %>
<%- include('partials/footer') %>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<%- include('partials/javascripts') %>
<script src="javascripts\cards.js" type="text/javascript" ></script>